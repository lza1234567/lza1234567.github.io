import{d as ce,r as n,q as ve,a as j,c as K,w as t,f as v,B as ye,O as h,P as E,b as e,e as r,n as _e,t as F,I as u,l as xe,G as be,J as Ve,K as ge,L as ke,M as we,N as Ce,Q as $e,U as ze,_ as Ue}from"./index-aae22775.js";import{a as Ne}from"./index-3844a8f5.js";import{a as Se,b as Te}from"./index-00238bd1.js";import{a as je}from"./index-5b5bb947.js";import{a as Ke}from"./index-17f313b1.js";import{a as Fe}from"./index-add30029.js";import{a as Ae}from"./index-deca2070.js";import{a as De}from"./index-40bec288.js";import{a as Je}from"./index-6a400d2c.js";import{a as Oe}from"./index-af39128d.js";import"./index2-08f7c804.js";import"./index2-c932a907.js";import"./index2-4ac987b3.js";import"./index2-b7c8ef1d.js";const Re={style:{display:"flex"}},Be={style:{flex:"1",padding:"10px","over-flow":"auto"}},Ie={style:{padding:"20px"}},Le={style:{width:"100%","text-align":"center"}},qe={style:{padding:"20px"}},he={style:{width:"100%","text-align":"center"}},Ee=ce({__name:"index",setup(Qe){const Q=n([{title:"xxxx公司",id:1,checked:!0,children:[{title:"研发部",id:2,children:[{title:"研发一部",id:3},{title:"研发二部",id:4},{title:"研发三部",id:5}]},{title:"测试部",id:6,children:[{title:"测试一部",id:7,disabled:!0},{title:"测试二部",id:8}]},{title:"设计部",id:9},{title:"市场部",id:10}]}]),G=n(!1),k=n(""),C=n({id:0,title:""}),_=n(!1),y=n({userAccount:"",userName:"",sex:""});function M(){y.value={userAccount:"",userName:"",sex:""}}function P(o){C.value=JSON.parse(JSON.stringify(o)),g.current=C.value.id,U(g)}function H(){b.value=!0}function W(){s.value={organization:"1",name:"研发部",fullName:"xxxx公司-研发部",code:"001",type:"1",sort:1,remark:"备注"},b.value=!0}function X(){if(k.value==""){u.msg("您未选择组织机构，请先选择要删除的组织机构",{icon:3,time:2e3});return}u.confirm("您将删除所选中的组织机构 [ "+C.value.title+" ] ？",{title:"提示",btn:[{text:"确定",callback:o=>{u.msg("您已成功删除"),u.close(o)}},{text:"取消",callback:o=>{u.msg("您已取消操作"),u.close(o)}}]})}function Y(){g.current=1,U(g)}const $=n(!1),z=n(),g=ve({current:1,limit:10,total:100}),Z=n([{title:"选项",width:"55px",type:"checkbox",fixed:"left"},{title:"编号",width:"80px",key:"id",fixed:"left",sort:"id"},{title:"用户账号",width:"80px",key:"account",sort:"account"},{title:"用户名",width:"80px",key:"name",sort:"name"},{title:"性别",width:"80px",key:"sex",sort:"sex"},{title:"角色",width:"120px",key:"role",customSlot:"role"},{title:"创建时间",width:"120px",key:"joinTime"},{title:"状态",width:"120px",key:"status",sort:"status"},{title:"操作",width:"150px",customSlot:"operator",key:"operator",fixed:"right"}]),U=o=>{$.value=!0,setTimeout(()=>{N.value=te(o.current,o.limit),$.value=!1},1e3)},ee=(o,l)=>{u.msg(`字段${o} - 排序${l}, 你可以利用 sort-change 实现服务端排序`)},N=n([{id:"1",name:"管理员",sex:"男",role:"管理员",account:"admin",joinTime:"2022-02-09 18:34:56",status:!0},{id:"2",name:"张三2",sex:"男",role:"普通用户",account:"用户2",joinTime:"2022-02-09 18:34:56",status:!0},{id:"3",name:"李四3",sex:"男",role:"普通用户",account:"用户3",joinTime:"2022-02-09 18:34:56",status:!0},{id:"4",name:"用户4",sex:"男",role:"普通用户",account:"用户4",joinTime:"2022-02-09 18:34:56",status:!0},{id:"5",name:"王五5",sex:"男",role:"普通用户",account:"用户5",joinTime:"2022-02-09 18:34:56",status:!0},{id:"6",name:"赵六6",sex:"男",role:"普通用户",account:"用户6",joinTime:"2022-02-09 18:34:56",status:!0},{id:"7",name:"黄齐7",sex:"男",role:"普通用户",account:"用户7",joinTime:"2022-02-09 18:34:56",status:!0},{id:"8",name:"用户8",sex:"男",role:"普通用户",account:"用户8",joinTime:"2022-02-09 18:34:56",status:!0},{id:"9",name:"游客9",sex:"男",role:"游客",account:"游客9",joinTime:"用户22-02-09 18:34:56",status:!0},{id:"10",name:"用户10",sex:"女",role:"普通用户",account:"user10",joinTime:"2022-02-09 18:34:56 18:34:56",status:!0}]),le=(o,l)=>{N.value.forEach(p=>{p.id===l.id&&u.msg("Success",{icon:1},()=>{p.status=o})})},te=(o,l)=>{for(var p=[],d=(o-1)*l+1,S=o*l,m=d;m<=S;m++)p.push({id:`${m}`,account:`user${m}`,sex:"男",name:`用户${m}`,joinTime:"2022-02-09 18:34:56",role:"普通用户",status:!0});return p},c=n({name:"",role:"",sex:"",status:"",account:""}),A=n(),x=n(!1),D=n("新增"),J=(o,l)=>{if(D.value=o,l!=null){let p=JSON.parse(JSON.stringify(l));c.value=p}else c.value={name:"",role:"",sex:"",status:"",account:""};x.value=!x.value};function ae(){if(z.value.length==0){u.msg("您未选择数据，请先选择要删除的数据",{icon:3,time:2e3});return}u.confirm("您将删除所有选中的数据？",{title:"提示",btn:[{text:"确定",callback:o=>{u.msg("您已成功删除"),u.close(o)}},{text:"取消",callback:o=>{u.msg("您已取消操作"),u.close(o)}}]})}function O(){u.msg("保存成功！",{icon:1,time:1e3}),x.value=!1,b.value=!1}function R(){x.value=!1,b.value=!1}function oe(){u.msg("您已成功删除")}function ne(){u.msg("您已取消操作")}const s=n({organization:"",name:"",fullName:"",code:"",type:"",sort:0,remark:""});n();const b=n(!1),ue=n("新建");return(o,l)=>{const p=xe,d=be,S=Oe,m=Ve,i=ge,V=Se,f=ke,w=we,B=Te,T=Ke,se=Ne,I=Ce,ie=$e,de=Ae,re=De,L=ze,me=Fe,pe=Je,fe=je;return j(),K(fe,{fluid:"true",class:"organization-box"},{default:t(()=>[v("div",Re,[v("div",{style:ye({width:_.value?"0px":"300px"}),class:"left-tree"},[h(v("div",null,[e(d,{type:"normal",size:"sm",onClick:H},{default:t(()=>[e(p,{type:"layui-icon-addition"}),l[20]||(l[20]=r("新建 ",-1))]),_:1}),e(d,{type:"warm",size:"sm",onClick:W},{default:t(()=>[e(p,{type:"layui-icon-edit"}),l[21]||(l[21]=r("修改 ",-1))]),_:1}),e(d,{type:"danger",size:"sm",onClick:X},{default:t(()=>[e(p,{type:"layui-icon-delete"}),l[22]||(l[22]=r("删除 ",-1))]),_:1})],512),[[E,!_.value]]),h(e(S,{style:{"margin-top":"10px"},data:Q.value,selectedKey:k.value,"onUpdate:selectedKey":l[0]||(l[0]=a=>k.value=a),showLine:G.value,expandKeys:[1,3,4],onNodeClick:P},{title:t(({data:a})=>[v("span",{class:_e(k.value==a.id?"isChecked":"")},F(a.title)+" "+F(a.id),3)]),_:1},8,["data","selectedKey","showLine"]),[[E,!_.value]]),v("div",{class:"isFold",onClick:l[1]||(l[1]=a=>_.value=!_.value)},[l[23]||(l[23]=r("  ",-1)),_.value?(j(),K(p,{key:1,class:"layui-icon-right"})):(j(),K(p,{key:0,class:"layui-icon-left"}))])],4),v("div",Be,[e(se,null,{default:t(()=>[e(T,null,{default:t(()=>[e(B,null,{default:t(()=>[e(V,{md:5},{default:t(()=>[e(i,{label:"用户账号","label-width":"80"},{default:t(()=>[e(m,{modelValue:y.value.userAccount,"onUpdate:modelValue":l[2]||(l[2]=a=>y.value.userAccount=a),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(V,{md:5},{default:t(()=>[e(i,{label:"用户名","label-width":"80"},{default:t(()=>[e(m,{modelValue:y.value.userName,"onUpdate:modelValue":l[3]||(l[3]=a=>y.value.userName=a),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(V,{md:5},{default:t(()=>[e(i,{label:"性别","label-width":"80"},{default:t(()=>[e(w,{class:"search-input",size:"sm",modelValue:y.value.sex,"onUpdate:modelValue":l[4]||(l[4]=a=>y.value.sex=a),"allow-clear":!0,placeholder:"请选择"},{default:t(()=>[e(f,{value:"man",label:"男"}),e(f,{value:"woman",label:"女"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(V,{md:5},{default:t(()=>[e(i,{"label-width":"20"},{default:t(()=>[e(d,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:Y},{default:t(()=>[...l[24]||(l[24]=[r(" 查询 ",-1)])]),_:1}),e(d,{size:"sm",onClick:M},{default:t(()=>[...l[25]||(l[25]=[r(" 重置 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(re,{page:g,height:"100%",columns:Z.value,loading:$.value,"default-toolbar":!0,"data-source":N.value,"selected-keys":z.value,"onUpdate:selectedKeys":l[6]||(l[6]=a=>z.value=a),onChange:U,onSortChange:ee},{status:t(({row:a})=>[e(I,{"model-value":a.status,onChange:q=>le(q,a)},null,8,["model-value","onChange"])]),role:t(({row:a})=>[e(ie,{color:"#165DFF",variant:"light"},{default:t(()=>[r(F(a.role),1)]),_:2},1024)]),toolbar:t(()=>[e(d,{size:"sm",type:"primary",onClick:l[5]||(l[5]=a=>J("新增",null))},{default:t(()=>[...l[26]||(l[26]=[r("新增",-1)])]),_:1}),e(d,{size:"sm",onClick:ae},{default:t(()=>[...l[27]||(l[27]=[r("删除",-1)])]),_:1})]),operator:t(({row:a})=>[e(d,{size:"xs",border:"green","border-style":"dashed",onClick:q=>J("编辑",a)},{default:t(()=>[...l[28]||(l[28]=[r("编辑",-1)])]),_:1},8,["onClick"]),e(de,{content:"确定要删除此用户吗?",onConfirm:oe,onCancel:ne},{default:t(()=>[e(d,{size:"xs",border:"red","border-style":"dashed"},{default:t(()=>[...l[29]||(l[29]=[r("删除",-1)])]),_:1})]),_:1})]),_:1},8,["page","columns","loading","data-source","selected-keys"])])]),e(L,{modelValue:x.value,"onUpdate:modelValue":l[11]||(l[11]=a=>x.value=a),title:D.value,area:["500px","450px"]},{default:t(()=>[v("div",Ie,[e(T,{model:c.value,ref_key:"layFormRef11",ref:A,required:""},{default:t(()=>[e(i,{label:"用户账号",prop:"account"},{default:t(()=>[e(m,{modelValue:c.value.account,"onUpdate:modelValue":l[7]||(l[7]=a=>c.value.account=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"用户名",prop:"name"},{default:t(()=>[e(m,{modelValue:c.value.name,"onUpdate:modelValue":l[8]||(l[8]=a=>c.value.name=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"性别",prop:"sex"},{default:t(()=>[e(w,{modelValue:c.value.sex,"onUpdate:modelValue":l[9]||(l[9]=a=>c.value.sex=a),style:{width:"100%"}},{default:t(()=>[e(f,{value:"男",label:"男"}),e(f,{value:"女",label:"女"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"角色",prop:"role"},{default:t(()=>[e(m,{modelValue:c.value.role,"onUpdate:modelValue":l[10]||(l[10]=a=>c.value.role=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"状态",prop:"status"},{default:t(()=>[e(I,{"model-value":c.value.status},null,8,["model-value"])]),_:1})]),_:1},8,["model"]),v("div",Le,[e(d,{size:"sm",type:"primary",onClick:O},{default:t(()=>[...l[30]||(l[30]=[r("保存",-1)])]),_:1}),e(d,{size:"sm",onClick:R},{default:t(()=>[...l[31]||(l[31]=[r("取消",-1)])]),_:1})])])]),_:1},8,["modelValue","title"]),e(L,{modelValue:b.value,"onUpdate:modelValue":l[19]||(l[19]=a=>b.value=a),title:ue.value,area:["700px","400px"]},{default:t(()=>[v("div",qe,[e(T,{model:s.value,ref_key:"layFormRef11",ref:A,required:""},{default:t(()=>[e(B,null,{default:t(()=>[e(V,{md:"12"},{default:t(()=>[e(i,{label:"上级机构",prop:"organization"},{default:t(()=>[e(w,{modelValue:s.value.organization,"onUpdate:modelValue":l[12]||(l[12]=a=>s.value.organization=a),style:{width:"100%"}},{default:t(()=>[e(f,{value:"1",label:"研发部"}),e(f,{value:"2",label:"测试部"}),e(f,{value:"3",label:"设计部"}),e(f,{value:"4",label:"市场部"}),e(f,{value:"5",label:"运维部"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"机构名称",prop:"name"},{default:t(()=>[e(m,{modelValue:s.value.name,"onUpdate:modelValue":l[13]||(l[13]=a=>s.value.name=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"机构全称",prop:"fullName"},{default:t(()=>[e(m,{modelValue:s.value.fullName,"onUpdate:modelValue":l[14]||(l[14]=a=>s.value.fullName=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"机构代码",prop:"code"},{default:t(()=>[e(m,{modelValue:s.value.code,"onUpdate:modelValue":l[15]||(l[15]=a=>s.value.code=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(V,{md:"12"},{default:t(()=>[e(i,{label:"机构类型",prop:"type"},{default:t(()=>[e(w,{modelValue:s.value.type,"onUpdate:modelValue":l[16]||(l[16]=a=>s.value.type=a),style:{width:"100%"}},{default:t(()=>[e(f,{value:"1",label:"公司"}),e(f,{value:"2",label:"子公司"}),e(f,{value:"3",label:"部门"}),e(f,{value:"4",label:"小组"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"排序号",prop:"sort"},{default:t(()=>[e(me,{style:{width:"100%"},modelValue:s.value.sort,"onUpdate:modelValue":l[17]||(l[17]=a=>s.value.sort=a),position:"right"},null,8,["modelValue"])]),_:1}),e(i,{label:"备注",prop:"remark"},{default:t(()=>[e(pe,{placeholder:"请输入备注",modelValue:s.value.remark,"onUpdate:modelValue":l[18]||(l[18]=a=>s.value.remark=a),rows:4},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),v("div",he,[e(d,{size:"sm",type:"primary",onClick:O},{default:t(()=>[...l[32]||(l[32]=[r("保存",-1)])]),_:1}),e(d,{size:"sm",onClick:R},{default:t(()=>[...l[33]||(l[33]=[r("取消",-1)])]),_:1})])])]),_:1},8,["modelValue","title"])]),_:1})}}});const ul=Ue(Ee,[["__scopeId","data-v-78065e26"]]);export{ul as default};
