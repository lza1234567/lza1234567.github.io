import{d as H,r as f,q as Z,a as A,c as G,w as l,b as a,e as d,f as b,t as h,I as n,J as M,K as Q,G as q,l as L,U as O,_ as W}from"./index-aae22775.js";import{a as X}from"./index-3844a8f5.js";import{a as Y,b as ee}from"./index-00238bd1.js";import{a as ae}from"./index-5b5bb947.js";import{a as le}from"./index-17f313b1.js";import{a as te}from"./index-deca2070.js";import{a as oe}from"./index-40bec288.js";import{a as ie}from"./index-dc45ac8a.js";import"./index2-08f7c804.js";import"./index2-c932a907.js";import"./index2-4ac987b3.js";const ne={class:"table-box"},se={style:{color:"#1677ff"},href:"https://foruda.gitee.com/avatar/1677022544584087390/4835367_jmysy_1578975358.png",target:"_blank"},fe=H({__name:"index",setup(de){const s=f({filePath:"",flieName:"",uploadUser:""}),u=f(!1),p=f([]);function w(){u.value=!0}function k(){s.value={filePath:"",flieName:"",uploadUser:""}}function N(){y.current=1,v(y)}function z(o){n.msg("下载成功！")}const g=f(!1),_=f([]),y=Z({current:1,limit:10,total:100}),P=f([{title:"选项",width:"55px",type:"checkbox",fixed:"left"},{title:"文件名称",key:"fileName",sort:"desc"},{title:"文件路径",key:"filePath",sort:"desc",customSlot:"filePath"},{title:"文件大小",width:"120px",key:"fileSize",sort:"desc"},{title:"上传人",width:"120px",key:"name",sort:"desc"},{title:"上传时间",width:"220px",key:"joinTime",sort:"desc"},{title:"操作",width:"150px",customSlot:"operator",key:"operator",fixed:"right"}]),v=o=>{g.value=!0,setTimeout(()=>{x.value=B(o.current,o.limit),g.value=!1},1e3)},T=(o,e)=>{n.msg(`字段${o} - 排序${e}, 你可以利用 sort-change 实现服务端排序`)},x=f([{id:"1",name:"张大福",fileSize:"101.1KB",sex:"男",city:"浙江杭州",age:"18",fileName:"eleadmin.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"2",name:"李旺",fileSize:"36.4KB",sex:"男",city:"浙江杭州",age:"20",fileName:"CyrCNmTJfv7D6GFAg39bjT3eRkkRm5dI-copyright.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"3",name:"韩学刚",fileSize:"10.5KB",sex:"男",city:"浙江杭州",age:"20",fileName:"fAenQ8nvRjL7x0i0jEfuDBZHvJfHf3v6.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"4",name:"张东方",fileSize:"12.3KB",sex:"男",city:"浙江杭州",age:"20",fileName:"eleadmin20201020172822.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"5",name:"金士顿",fileSize:"17.4KB",sex:"男",city:"浙江杭州",age:"20",fileName:"RZ8FQmZfHkcffMlTBCJllBFjEhEsObVo.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"6",name:"杨丽娟",fileSize:"2.0KB",sex:"男",city:"浙江杭州",age:"20",fileName:"pro202012301.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"7",name:"沈恒",fileSize:"14.0KB",sex:"男",city:"浙江杭州",age:"18",fileName:"CyrCNmTJfv7D6GFAg39bjT3eRkkRm5dI.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"8",name:"程雪生",fileSize:"3.7KB",sex:"男",city:"浙江杭州",age:"20",fileName:"LrCTN2j94lo9N7wEql7cBr1Ux4rHMvmZ.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"9",name:"石黄平",fileSize:"820.3KB",sex:"男",city:"浙江杭州",age:"20",fileName:"eleadmin20201020172822.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"10",name:"萍雨安",fileSize:"1.4M",sex:"男",city:"浙江杭州",age:"20",fileName:"faa0202700ee455b90fe77d8bef98bc0.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"}]),B=(o,e)=>{for(var m=[],r=(o-1)*e+1,c=o*e,i=r;i<=c;i++)m.push({id:`${i}`,age:"18",sex:"男",name:`张三${i}`,fileSize:"148.4KB",fileName:"eleadmin.jpg",joinTime:"2022-02-09 09:45:21",city:"浙江杭州",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"});return m};function C(){if(_.value.length==0){n.msg("您未选择数据，请先选择要删除的数据",{icon:3,time:2e3});return}n.confirm("您将删除所有选中的数据？",{title:"提示",btn:[{text:"确定",callback:o=>{n.msg("您已成功删除"),n.close(o)}},{text:"取消",callback:o=>{n.msg("您已取消操作"),n.close(o)}}]})}function V(){n.msg("您已成功删除")}function S(){n.msg("您已取消操作")}const K=o=>(o.size>1e3&&n.msg("file size over 1000 KB",{icon:2}),new Promise(e=>e(!0)));return(o,e)=>{const m=M,r=Q,c=Y,i=q,U=ee,$=le,I=X,j=L,R=te,D=oe,J=ie,E=O,F=ae;return A(),G(F,{fluid:"true",class:"file-box"},{default:l(()=>[a(I,null,{default:l(()=>[a($,{style:{"margin-top":"10px"}},{default:l(()=>[a(U,null,{default:l(()=>[a(c,{md:5},{default:l(()=>[a(r,{label:"文件名称","label-width":"80"},{default:l(()=>[a(m,{modelValue:s.value.flieName,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.flieName=t),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),a(c,{md:5},{default:l(()=>[a(r,{label:"文件路径","label-width":"80"},{default:l(()=>[a(m,{modelValue:s.value.filePath,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.filePath=t),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),a(c,{md:5},{default:l(()=>[a(r,{label:"上传人","label-width":"80"},{default:l(()=>[a(m,{modelValue:s.value.uploadUser,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.uploadUser=t),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),a(c,{md:5},{default:l(()=>[a(r,{"label-width":"20"},{default:l(()=>[a(i,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:N},{default:l(()=>[...e[6]||(e[6]=[d(" 查询 ",-1)])]),_:1}),a(i,{size:"sm",onClick:k},{default:l(()=>[...e[7]||(e[7]=[d(" 重置 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),b("div",ne,[a(D,{page:y,columns:P.value,height:"100%",loading:g.value,"default-toolbar":!0,"data-source":x.value,"selected-keys":_.value,"onUpdate:selectedKeys":e[3]||(e[3]=t=>_.value=t),onChange:v,onSortChange:T},{filePath:l(({row:t})=>[b("a",se,h(t.filePath),1)]),toolbar:l(()=>[a(i,{size:"sm",type:"primary",onClick:w},{default:l(()=>[a(j,{class:"layui-icon-upload-drag"}),e[8]||(e[8]=d(" 上传 ",-1))]),_:1}),a(i,{size:"sm",onClick:C},{default:l(()=>[a(j,{class:"layui-icon-delete"}),e[9]||(e[9]=d(" 删除 ",-1))]),_:1})]),operator:l(({row:t})=>[a(i,{size:"xs",border:"green","border-style":"dashed",onClick:me=>z(t)},{default:l(()=>[...e[10]||(e[10]=[d("下载",-1)])]),_:1},8,["onClick"]),a(R,{content:"确定要删除此文件吗?",onConfirm:V,onCancel:S},{default:l(()=>[a(i,{size:"xs",border:"red","border-style":"dashed"},{default:l(()=>[...e[11]||(e[11]=[d("删除",-1)])]),_:1})]),_:1})]),_:1},8,["page","columns","loading","data-source","selected-keys"])]),a(E,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=t=>u.value=t),title:"导入文件",area:["380px","380px"]},{default:l(()=>[a(J,{beforeUpload:K,style:{margin:"60px"},url:"https://www.mocky.io/v2/5cc8019d300000980a055e76",modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=t=>p.value=t),field:"file",auto:!1,drag:!0},{preview:l(()=>{var t;return[d(h((t=p.value[0])==null?void 0:t.name),1)]}),_:1},8,["modelValue"]),e[12]||(e[12]=b("div",{style:{width:"100%","text-align":"center"}}," 只能上传小于1000KB的文件 ",-1))]),_:1},8,["modelValue"])]),_:1})}}});const he=W(fe,[["__scopeId","data-v-117b61b3"]]);export{he as default};
