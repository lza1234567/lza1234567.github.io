import{R as se,d as x,C as F,a as n,k as m,t as h,H as e,m as Z,e as J,n as H,D,c as R,w as k,b as f,aJ as Q,F as j,E as O,aK as X,f as S,l as A,af as Y,L as ne,aL as W,M as oe,J as ee,G as pe,p as re,r as y,j as z,y as V,ay as T,a5 as de,aM as ve}from"./index-aae22775.js";const ae=Symbol("layui-page"),B=()=>se(ae,{}),me={class:"layui-page-total-text"},ge=x({name:"LayPageCount",__name:"count",setup(C){const{t}=F(),{pageTotal:l}=B();return(u,o)=>(n(),m("span",me,h(e(t)("page.total"))+" "+h(e(l))+" "+h(e(t)("page.item")),1))}}),ce=["data-page"],ye=x({name:"LayPagePrev",__name:"prev",setup(C){const{t}=F(),{pageCount:l,currentPage:u,handlePrev:o}=B();return(i,r)=>(n(),m("div",{class:H(["layui-page-prev",[{"is-disabled":e(u)<=1}]]),onClick:r[0]||(r[0]=(...a)=>e(o)&&e(o)(...a)),"data-page":e(t)("page.previous")},[Z(i.$slots,"prev",{},()=>[J(h(e(t)("page.previous")),1)])],10,ce))}}),he={class:"layui-pager"},fe=["data-page"],be=["onClick","data-page"],ke=["data-page"],Ce=x({name:"LayPager",__name:"pager",setup(C){const{pageCount:t,pageOpionData:l,handlePage:u,setPage:o,iconPrevHover:i,iconNextHover:r,currentPage:a,handleNext:d,theme:g,pageTotal:P,ellipsisTooltip:_}=B();return(U,p)=>(n(),m("ul",he,[e(o)[0]!==1?(n(),m("li",{key:0,"data-page":e(a),onClick:p[0]||(p[0]=s=>e(u)(1)),class:H(["layui-pager-number",{[e(g)?"layui-bg-"+e(g):""]:e(a)===1,"is-active":e(a)===1}])}," 1 ",10,fe)):D("",!0),e(o)[0]>2?(n(),R(e(Y),{key:1,disabled:!e(_),ref:"manualRef",trigger:"hover",placement:"bottom"},{content:k(()=>[f(e(Q),{style:{"max-height":"140px","overflow-y":"auto"}},{default:k(()=>[(n(!0),m(j,null,O(e(l).resetLeft,s=>(n(),R(e(X),{key:s,onClick:b=>e(u)(s)},{default:k(()=>[J(h(s),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:k(()=>[S("li",{"data-page":"向前 3 页",class:"layui-pager-number layui-page-left-number",onMouseleave:p[1]||(p[1]=s=>i.value=!0),onMouseenter:p[2]||(p[2]=s=>i.value=!1),onClick:p[3]||(p[3]=s=>e(u)(e(a)-3))},[f(e(A),{type:e(i)?"layui-icon-more":"layui-icon-left",size:"12px"},null,8,["type"])],32)]),_:1},8,["disabled"])):D("",!0),(n(!0),m(j,null,O(e(o),s=>(n(),m("li",{onClick:b=>e(u)(s),key:s,"data-page":s,class:H(["layui-pager-number",{[e(g)?"layui-bg-"+e(g):""]:s===e(a),"is-active":s===e(a)}])},h(s),11,be))),128)),e(o)[e(o).length-1]<e(t)-1?(n(),R(e(Y),{key:2,disabled:!e(_),trigger:"hover",placement:"bottom"},{content:k(()=>[f(e(Q),{style:{"max-height":"140px","overflow-y":"auto"}},{default:k(()=>[(n(!0),m(j,null,O(e(l).resetRight,s=>(n(),R(e(X),{key:s,onClick:b=>e(u)(s)},{default:k(()=>[J(h(s),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:k(()=>[S("li",{"data-page":"向后 3 页",class:"layui-pager-number layui-page-right-number",onMouseleave:p[4]||(p[4]=s=>r.value=!0),onMouseenter:p[5]||(p[5]=s=>r.value=!1),onClick:p[6]||(p[6]=s=>e(u)(e(a)+3))},[f(e(A),{type:e(r)?"layui-icon-more":"layui-icon-right",size:"12px"},null,8,["type"])],32)]),_:1},8,["disabled"])):D("",!0),e(o)[e(o).length-1]!==e(t)?(n(),m("li",{key:3,"data-page":e(t),onClick:p[7]||(p[7]=s=>e(u)(e(t))),class:H(["layui-pager-number",{[e(g)?"layui-bg-"+e(g):""]:e(t)===e(a),"is-active":e(t)===e(a)}])},h(e(t)),11,ke)):D("",!0)]))}}),Pe=["data-page"],xe=x({name:"LayPageNext",__name:"next",setup(C){const{t}=F(),{pageCount:l,currentPage:u,handleNext:o,slots:i}=B();return(r,a)=>(n(),m("div",{class:H(["layui-page-next",[{"is-disabled":e(l)<=e(u)}]]),"data-page":e(t)("page.next"),onClick:a[0]||(a[0]=(...d)=>e(o)&&e(o)(...d))},[Z(r.$slots,"next",{},()=>[J(h(e(t)("page.next")),1)])],10,Pe))}}),_e={class:"layui-page-limits"},$e=x({name:"LayPageLimits",__name:"limits",setup(C){const{t}=F(),{inlimit:l,disabled:u,limits:o}=B();return(i,r)=>(n(),m("div",_e,[f(e(oe),{modelValue:e(l),"onUpdate:modelValue":r[0]||(r[0]=a=>W(l)?l.value=a:null),placeholder:"请选择",disabled:e(u),autoFitWidth:!1},{default:k(()=>[(n(!0),m(j,null,O(e(o),a=>{return n(),R(e(ne),{value:a,label:(d=a,`${d} ${t("page.item")+"/"+t("page.page")}`),key:a},null,8,["value","label"]);var d}),128))]),_:1},8,["modelValue","disabled"])]))}}),Ve=x({name:"LayPageRefresh",__name:"refresh",setup(C){const{currentPage:t,inlimit:l,disabled:u,limits:o,handleRefresh:i}=B();return(r,a)=>(n(),m("div",{onClick:a[0]||(a[0]=(...d)=>e(i)&&e(i)(...d)),class:"layui-page-refresh"},[f(e(A),{type:"layui-icon-refresh"})]))}}),Be={class:"layui-pager-jumper"},Le=x({name:"LayPageSkip",__name:"skip",setup(C){const{t}=F(),{disabled:l,jumpNumber:u,handleBlur:o,handleJumpPage:i}=B();return(r,a)=>(n(),m("div",Be,[J(h(e(t)("page.goTo"))+" ",1),f(e(ee),{disabled:e(l),onBlur:e(o),type:"number",modelValue:e(u),"onUpdate:modelValue":a[0]||(a[0]=d=>W(u)?u.value=d:null)},null,8,["disabled","onBlur","modelValue"]),f(e(pe),{disabled:e(l),onClick:e(i),size:"xs"},{default:k(()=>[J(h(e(t)("page.confirm")),1)]),_:1},8,["disabled","onClick"])]))}}),Ne=["data-page"],Te=["data-page"],Re=S("span",{class:"layui-simple-page-slash"},"／",-1),Se=["data-page"],je=x({name:"LayPageSimple",__name:"simple",setup(C){const{pageCount:t,disabled:l,currentPage:u,handlePrev:o,handleNext:i,handleBlur:r}=B(),{t:a}=F();return(d,g)=>(n(),m(j,null,[S("div",{"data-page":e(a)("page.previous"),class:"layui-page-prev",onClick:g[0]||(g[0]=(...P)=>e(o)&&e(o)(...P))},[f(e(A),{type:"layui-icon-left",size:"16px"})],8,Ne),S("div",{class:"layui-pager-jumper","data-page":e(u)+"/"+e(t)},[f(e(ee),{disabled:e(l),onBlur:e(r),type:"number",modelValue:e(u),"onUpdate:modelValue":g[1]||(g[1]=P=>W(u)?u.value=P:null)},null,8,["disabled","onBlur","modelValue"]),Re,S("span",null,h(e(t)),1)],8,Te),S("div",{"data-page":e(a)("page.next"),class:"layui-page-next",onClick:g[2]||(g[2]=(...P)=>e(i)&&e(i)(...P))},[f(e(A),{type:"layui-icon-right",size:"16px"})],8,Se)],64))}}),we=x({name:"LayPage",__name:"index",props:{total:{default:0},limit:{default:10},theme:{},pages:{default:5},limits:{default:()=>[10,20,30,40,50]},simple:{type:Boolean,default:!1},modelValue:{default:1},hideOnSinglePage:{type:Boolean,default:!1},ellipsisTooltip:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},layout:{default:()=>["prev","page","next","limits"]}},emits:["update:modelValue","change","update:limit"],setup(C,{emit:t}){const l=C,u=re(),o=y(l.limits),i=y(l.pages),r=y(l.layout),a=y(l.modelValue),d=y(l.limit),g=y(l.theme),P=y(l.ellipsisTooltip),_=t,U=y(!0),p=y(!0);let s=y({resetLeft:[],resetRight:[]});const b=y(l.modelValue),G=z(()=>l.simple),M=y(l.disabled),le=z(()=>!(v.value<2&&l.hideOnSinglePage));V(()=>l.limit,()=>{d.value=l.limit}),V(()=>l.disabled,()=>{M.value=l.disabled}),V(()=>l.theme,()=>{g.value=l.theme}),V(()=>l.ellipsisTooltip,()=>{P.value=l.ellipsisTooltip}),V(()=>d,c=>{_("update:limit",+c.value),_("change",{current:+a.value,limit:+d.value})},{deep:!0}),V(()=>l.layout,()=>{r.value=l.layout}),V(()=>l.modelValue,()=>{a.value=l.modelValue}),V(a,c=>{b.value=c,_("update:modelValue",+a.value),_("change",{current:+a.value,limit:+d.value})});const te=z(()=>l.total),v=z(()=>Math.ceil(l.total/d.value)||1),ue=z(()=>{let c=[];i.value<=0&&(i.value=1);const L=v.value>i.value?Math.ceil((a.value+1)/i.value):1,w=Math.floor((i.value-1)/2);let E=L>1?a.value-w:1,N=L>1?(()=>{const $=a.value+(i.value-w-1);return $>v.value?v.value:$})():i.value;N>v.value&&(N=v.value),v.value>i.value&&N-E<i.value-1&&(E=N-i.value+1),a.value>v.value&&(a.value=v.value),s.value.resetLeft=Array.from({length:E-2}).map(($,K)=>K+2).reverse(),s.value.resetRight=Array.from({length:v.value-N-1}).map(($,K)=>N+K+1);for(let $=E;$<=N;$++)c.push($);return c}),q=c=>{M.value||(c<=0&&(c=1),c>=v.value&&(c=v.value),p.value=!0,U.value=!0,a.value=c)},I={count:T(ge),prev:T(ye,{},u),page:T(Ce),next:T(xe,{},u),limits:T($e),refresh:T(Ve),skip:T(Le)},ie=z(()=>r.value.reduce((c,L)=>(c.push({componentName:I[L],show:!!I[L],name:L}),c),[]));return de(ae,{pageCount:v,pageTotal:te,currentPage:a,pageOpionData:s,iconNextHover:p,iconPrevHover:U,inlimit:d,limits:o,disabled:M,handleRefresh:()=>{_("change",{current:a.value,limit:d.value})},handleNext:()=>{M.value||a.value!==v.value&&a.value++},handlePrev:()=>{M.value||a.value<=1||a.value--},handlePage:q,jumpNumber:b,handleJumpPage:()=>{q(+b.value)},handleBlur:()=>{G.value?(a.value>=v.value&&(a.value=v.value),a.value<=1&&(a.value=1)):(+b.value>=v.value&&(b.value=v.value),+b.value<1&&(b.value=1))},ellipsisTooltip:P,theme:g,setPage:ue}),(c,L)=>le.value?(n(),m("div",{key:0,class:H(["layui-page",M.value?"is-disabled":"",G.value?"layui-page-simple":""])},[G.value?(n(),R(je,{key:1})):(n(!0),m(j,{key:0},O(ie.value,w=>(n(),m(j,{key:w},[w.show?(n(),R(ve(w.componentName),{key:0})):D("",!0)],64))),128))],2)):D("",!0)}});export{we as d};
