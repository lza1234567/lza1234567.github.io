import{d as W,r as a,q as X,a as Y,c as Z,w as t,b as l,e as i,f as y,n as ee,t as le,I as d,J as te,K as oe,G as ae,l as ie,U as ne,v as se,_ as de}from"./index-aae22775.js";import{a as re}from"./index-3844a8f5.js";import{a as ue,b as me}from"./index-00238bd1.js";import{a as ce}from"./index-5b5bb947.js";import{a as fe}from"./index-17f313b1.js";import{a as pe}from"./index-deca2070.js";import{a as ye}from"./index-40bec288.js";import{a as _e}from"./index-6a400d2c.js";import{a as ve}from"./index-af39128d.js";import"./index2-08f7c804.js";import"./index2-c932a907.js";import"./index2-4ac987b3.js";import"./index2-b7c8ef1d.js";const ge={class:"table-box"},ke={style:{padding:"20px"}},xe={style:{width:"100%","text-align":"center"}},be={style:{height:"320px",overflow:"auto"}},Ve={style:{width:"90%","text-align":"right"}},we=W({__name:"index",setup(Ce){const u=a({roleName:"",identifying:"",mark:""});function N(){u.value={roleName:"",identifying:"",mark:""}}function S(){x.current=1,b()}const v=a(!1),g=a(),x=X({current:1,limit:10,total:4}),K=a([{title:"选项",width:"55px",type:"checkbox",fixed:"left"},{title:"编号",width:"80px",key:"id",fixed:"left",sort:"desc"},{title:"角色名称",width:"80px",key:"name",sort:"desc"},{title:"角色标识",width:"80px",key:"flage",sort:"desc"},{title:"备注",width:"260px",key:"remark",sort:"desc"},{title:"创建时间",width:"120px",key:"joinTime",sort:"desc"},{title:"操作",width:"150px",customSlot:"operator",key:"operator",fixed:"right"}]),b=s=>{v.value=!0,setTimeout(()=>{v.value=!1},1e3)},T=(s,e)=>{d.msg(`字段${s} - 排序${e}, 你可以利用 sort-change 实现服务端排序`)},j=a([{id:"1",name:"管理员",remark:"花开堪折直须折,莫待无花空折枝.",joinTime:"2022-02-09 16:35:07",flage:"admin"},{id:"2",name:"普通用户",remark:"花开堪折直须折,莫待无花空折枝.",joinTime:"2022-02-09 16:35:07",flage:"user"},{id:"3",name:"游客",remark:"花开堪折直须折,莫待无花空折枝.",joinTime:"2022-02-09 16:35:07",flage:"guser"}]),r=a({name:"",flage:"",remark:""}),R=a(),f=a(!1),V=a("新增"),w=(s,e)=>{if(V.value=s,e!=null){let m=JSON.parse(JSON.stringify(e));r.value=m}else r.value={name:"",flage:"",remark:""};f.value=!f.value};function B(){if(g.value.length==0){d.msg("您未选择数据，请先选择要删除的数据",{icon:3,time:2e3});return}d.confirm("您将删除所有选中的数据？",{title:"提示",btn:[{text:"确定",callback:s=>{d.msg("您已成功删除"),d.close(s)}},{text:"取消",callback:s=>{d.msg("您已取消操作"),d.close(s)}}]})}function C(){d.msg("保存成功！",{icon:1,time:1e3}),f.value=!1,p.value=!1}function h(){f.value=!1,p.value=!1}function J(){d.msg("您已成功删除")}function q(){d.msg("您已取消操作")}const p=a(!1),$=a([]),F=a(!0),I=a([{icon:"layui-icon-home",title:"工作空间",id:1,checked:!0,spread:!0,children:[{title:"工作台",icon:"layui-icon-util",id:3},{title:"控制台",icon:"layui-icon-engine",id:4,spread:!0},{title:"分析页",id:20,icon:"layui-icon-chart-screen"},{title:"监控页",id:21,icon:"layui-icon-find-fill"}]},{title:"表单页面",icon:"layui-icon-table",id:2,spread:!0,children:[{title:"基础表单",icon:"layui-icon-form",id:5,spread:!0},{title:"复杂表单",icon:"layui-icon-form",id:6}]},{title:"个人中心",icon:"layui-icon-slider",id:16,children:[{icon:"layui-icon-username",title:"我的资料",id:17,fixed:!0},{title:"我的消息",icon:"layui-icon-email",id:27}]},{title:"系统管理",icon:"layui-icon-set",id:19,children:[{icon:"layui-icon-user",title:"用户管理",id:25,fixed:!0},{title:"角色管理",icon:"layui-icon-group",id:29},{title:"机构管理",icon:"layui-icon-transfer",id:29}]}]);function O(s){p.value=!0}return(s,e)=>{const m=te,c=oe,_=ue,n=ae,D=me,z=fe,G=re,k=ie,P=pe,Q=ye,A=_e,U=ne,E=ve,H=se,L=ce;return Y(),Z(L,{fluid:"true",class:"role-box"},{default:t(()=>[l(G,null,{default:t(()=>[l(z,{style:{"margin-top":"10px"}},{default:t(()=>[l(D,null,{default:t(()=>[l(_,{md:5},{default:t(()=>[l(c,{label:"角色名称","label-width":"80"},{default:t(()=>[l(m,{modelValue:u.value.roleName,"onUpdate:modelValue":e[0]||(e[0]=o=>u.value.roleName=o),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(_,{md:5},{default:t(()=>[l(c,{label:"角色标识","label-width":"80"},{default:t(()=>[l(m,{modelValue:u.value.identifying,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value.identifying=o),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(_,{md:5},{default:t(()=>[l(c,{label:"备注","label-width":"80"},{default:t(()=>[l(m,{modelValue:u.value.mark,"onUpdate:modelValue":e[2]||(e[2]=o=>u.value.mark=o),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(_,{md:5},{default:t(()=>[l(c,{"label-width":"20"},{default:t(()=>[l(n,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:S},{default:t(()=>[...e[11]||(e[11]=[i(" 查询 ",-1)])]),_:1}),l(n,{size:"sm",onClick:N},{default:t(()=>[...e[12]||(e[12]=[i(" 重置 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),y("div",ge,[l(Q,{page:x,height:"100%",columns:K.value,loading:v.value,"default-toolbar":!0,"data-source":j.value,"selected-keys":g.value,"onUpdate:selectedKeys":e[4]||(e[4]=o=>g.value=o),onChange:b,onSortChange:T},{toolbar:t(()=>[l(n,{size:"sm",type:"primary",onClick:e[3]||(e[3]=o=>w("新增",null))},{default:t(()=>[l(k,{class:"layui-icon-addition"}),e[13]||(e[13]=i(" 新增",-1))]),_:1}),l(n,{size:"sm",onClick:B},{default:t(()=>[l(k,{class:"layui-icon-delete"}),e[14]||(e[14]=i(" 删除 ",-1))]),_:1})]),operator:t(({row:o})=>[l(n,{size:"xs",border:"green","border-style":"dashed",onClick:M=>w("编辑",o)},{default:t(()=>[...e[15]||(e[15]=[i("编辑",-1)])]),_:1},8,["onClick"]),l(n,{size:"xs",border:"blue","border-style":"dashed",onClick:M=>O(o)},{default:t(()=>[...e[16]||(e[16]=[i("分配权限",-1)])]),_:1},8,["onClick"]),l(P,{content:"确定要删除此角色吗?",onConfirm:J,onCancel:q},{default:t(()=>[l(n,{size:"xs",border:"red","border-style":"dashed"},{default:t(()=>[...e[17]||(e[17]=[i("删除",-1)])]),_:1})]),_:1})]),_:1},8,["page","columns","loading","data-source","selected-keys"])]),l(U,{modelValue:f.value,"onUpdate:modelValue":e[8]||(e[8]=o=>f.value=o),title:V.value,area:["500px","370px"]},{default:t(()=>[y("div",ke,[l(z,{model:r.value,ref_key:"layFormRef11",ref:R,required:""},{default:t(()=>[l(c,{label:"角色名称",prop:"name"},{default:t(()=>[l(m,{modelValue:r.value.name,"onUpdate:modelValue":e[5]||(e[5]=o=>r.value.name=o)},null,8,["modelValue"])]),_:1}),l(c,{label:"角色标识",prop:"flage"},{default:t(()=>[l(m,{modelValue:r.value.flage,"onUpdate:modelValue":e[6]||(e[6]=o=>r.value.flage=o)},null,8,["modelValue"])]),_:1}),l(c,{label:"描述",prop:"remark"},{default:t(()=>[l(A,{placeholder:"请输入描述",modelValue:r.value.remark,"onUpdate:modelValue":e[7]||(e[7]=o=>r.value.remark=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),y("div",xe,[l(n,{size:"sm",type:"primary",onClick:C},{default:t(()=>[...e[18]||(e[18]=[i("保存",-1)])]),_:1}),l(n,{size:"sm",onClick:h},{default:t(()=>[...e[19]||(e[19]=[i("取消",-1)])]),_:1})])])]),_:1},8,["modelValue","title"]),l(U,{modelValue:p.value,"onUpdate:modelValue":e[10]||(e[10]=o=>p.value=o),title:"分配权限",area:["500px","450px"]},{default:t(()=>[y("div",be,[l(E,{style:{"margin-left":"40px"},"tail-node-icon":!1,data:I.value,showCheckbox:F.value,checkedKeys:$.value,"onUpdate:checkedKeys":e[9]||(e[9]=o=>$.value=o)},{title:t(({data:o})=>[l(k,{class:ee(o.icon)},null,8,["class"]),i(" "+le(o.title),1)]),_:1},8,["data","showCheckbox","checkedKeys"])]),l(H),y("div",Ve,[l(n,{size:"sm",type:"primary",onClick:C},{default:t(()=>[...e[20]||(e[20]=[i("保存",-1)])]),_:1}),l(n,{size:"sm",onClick:h},{default:t(()=>[...e[21]||(e[21]=[i("取消",-1)])]),_:1})])]),_:1},8,["modelValue"])]),_:1})}}});const Fe=de(we,[["__scopeId","data-v-9bd9ccfc"]]);export{Fe as default};
