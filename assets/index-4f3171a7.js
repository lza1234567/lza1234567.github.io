import{d as I,r as p,q as N,a as U,c as D,w as t,b as o,e as l,f as r,t as d,O as y,P as g,I as z,J as B,K as W,G as K,Q as L,U as Q,_ as J}from"./index-aae22775.js";import{a as O}from"./index-3844a8f5.js";import{a as H,b as X}from"./index-00238bd1.js";import{a as Y}from"./index-5b5bb947.js";import{a as Z}from"./index-8d856c41.js";import{a as ee}from"./index-17f313b1.js";import{a as te}from"./index-40bec288.js";import{a as oe}from"./index-5d5356c4.js";import"./index2-08f7c804.js";import"./index2-c932a907.js";import"./index2-4ac987b3.js";const ae={class:"table-box"},le={class:"oneRow"},se={class:"oneRow"},ne={style:{padding:"20px"}},ie=I({__name:"index",setup(de){const m=p({userAccount:"",userName:"",rangeTime:["2001-01-01 01:01:00","2001-02-1 01:01:00"]});function P(){m.value={userAccount:"",userName:"",rangeTime:["2001-01-01 01:01:00","2001-02-1 01:01:00"]}}function h(){T.current=1,w(T)}const b=p(!1),x=p([]),T=N({current:1,limit:10,total:100}),A=p([{title:"账号",key:"account",sort:"desc"},{title:"用户名",key:"name",sort:"desc"},{title:"操作模块",key:"optionModule",sort:"desc"},{title:"操作功能",width:"180px",key:"optionFunction",sort:"desc"},{title:" 请求地址",width:"180px",key:"requestPath",sort:"desc",customSlot:"requestPath"},{title:"请求方式",key:"requestMethod"},{title:"状态",width:"100px",key:"status",customSlot:"status"},{title:"耗时",key:"time",customSlot:"time"},{title:"登录时间",width:"180px",key:"joinTime"},{title:"操作",width:"100px",customSlot:"operator",key:"operator",fixed:"right"}]),w=i=>{b.value=!0,setTimeout(()=>{k.value=V(i.current,i.limit),b.value=!1},1e3)},F=(i,e)=>{z.msg(`字段${i} - 排序${e}, 你可以利用 sort-change 实现服务端排序`)},k=p([{id:"1",name:"管理员",account:"admin",optionModule:"登录日志",optionFunction:"分页查询登录日志",requestPath:"/api/system/login-record/page",requestMethod:"GET",time:"0.015",ipAddrees:"171.120.210.128",joinTime:"2022-02-09 15:09:34",status:"正常"},{id:"2",name:"用户1",account:"admin",optionModule:"用户管理",optionFunction:"分页查询用户",requestPath:"/api/system/user/page",requestMethod:"GET",time:"0.045",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"124.92.199.219"},{id:"3",account:"admin",name:"管理员",optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",time:"0.027",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"39.155.212.237"},{id:"4",account:"admin",name:"用户2",optionModule:"菜单管理",requestPath:"/api/system/menu/page",requestMethod:"GET",optionFunction:"查询全部菜单",time:"2.397",joinTime:"2022-02-09 15:09:34",status:"失败",ipAddrees:"113.65.14.222"},{id:"5",account:"admin",name:"管理员",optionModule:"文件上传下载",requestPath:"/api/file/page",requestMethod:"GET",optionFunction:"分页查询文件",time:"0.016",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"113.128.81.221"},{id:"6",account:"admin",name:"管理员",optionModule:"文件上传下载",requestPath:"/api/file/page",requestMethod:"GET",optionFunction:"分页查询文件",time:"0.051",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"182.48.101.103"},{id:"7",account:"admin",name:"用户1",optionModule:"菜单管理",requestPath:"/api/system/menu/page",requestMethod:"GET",optionFunction:"查询全部菜单",time:"0.231",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"171.213.58.73"},{id:"8",account:"admin",name:"用户1",optionModule:"菜单管理",requestPath:"/api/system/menu/page",requestMethod:"GET",optionFunction:"查询全部菜单",time:"0.47",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"119.143.100.106"},{id:"9",account:"admin",name:"管理员",optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",time:"0.015",joinTime:"2022-02-09 15:09:34",status:"失败",ipAddrees:"139.162.18.175"},{id:"10",account:"admin",name:"管理员",optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",time:"0.015",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"14.215.245.130"}]),V=(i,e)=>{for(var f=[],c=(i-1)*e+1,a=i*e,_=c;_<=a;_++)f.push({id:`${_}`,optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",account:"admin",status:"正常",name:"管理员",time:"0.015",joinTime:"2022-02-09 15:09:34",ipAddrees:"111.121.13.184"});return f},n=p({id:"0",optionModule:"",requestMethod:"",requestPath:"",optionFunction:"",account:"",status:"",name:"",time:"",joinTime:"",ipAddrees:""}),q=p(!1);function $(i){q.value=!0,n.value=i}return(i,e)=>{const f=B,c=W,a=H,_=Z,M=K,u=X,j=ee,G=O,R=oe,v=L,C=te,E=Q,S=Y;return U(),D(S,{fluid:"true",class:"option-box"},{default:t(()=>[o(G,null,{default:t(()=>[o(j,{style:{"margin-top":"10px"}},{default:t(()=>[o(u,null,{default:t(()=>[o(a,{md:5},{default:t(()=>[o(c,{label:"用户账号","label-width":"80"},{default:t(()=>[o(f,{modelValue:m.value.userAccount,"onUpdate:modelValue":e[0]||(e[0]=s=>m.value.userAccount=s),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),o(a,{md:5},{default:t(()=>[o(c,{label:"用户名","label-width":"80"},{default:t(()=>[o(f,{modelValue:m.value.userName,"onUpdate:modelValue":e[1]||(e[1]=s=>m.value.userName=s),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),o(a,{md:8},{default:t(()=>[o(c,{label:"登录时间","label-width":"80"},{default:t(()=>[o(_,{size:"sm",modelValue:m.value.rangeTime,"onUpdate:modelValue":e[2]||(e[2]=s=>m.value.rangeTime=s),range:"",type:"datetime",placeholder:["开始日期","结束日期"]},null,8,["modelValue"])]),_:1})]),_:1}),o(a,{md:5},{default:t(()=>[o(c,{"label-width":"20"},{default:t(()=>[o(M,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:h},{default:t(()=>[...e[5]||(e[5]=[l(" 查询 ",-1)])]),_:1}),o(M,{size:"sm",onClick:P},{default:t(()=>[...e[6]||(e[6]=[l(" 重置 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),r("div",ae,[o(C,{page:T,height:"100%",columns:A.value,loading:b.value,"default-toolbar":!0,"data-source":k.value,"selected-keys":x.value,"onUpdate:selectedKeys":e[3]||(e[3]=s=>x.value=s),onChange:w,onSortChange:F},{requestPath:t(({row:s})=>[o(R,{visible:!1,trigger:"hover",content:s.requestPath},{default:t(()=>[r("div",le,d(s.requestPath),1)]),_:2},1032,["content"])]),status:t(({row:s})=>[y(r("div",null,[o(v,{color:"#2dc570",variant:"light"},{default:t(()=>[...e[7]||(e[7]=[l("正常",-1)])]),_:1})],512),[[g,s.status=="正常"]]),y(r("div",null,[o(v,{color:"#F5319D",variant:"light"},{default:t(()=>[...e[8]||(e[8]=[l("失败",-1)])]),_:1})],512),[[g,s.status=="失败"]])]),time:t(({row:s})=>[r("div",se,d(s.time)+"s",1)]),toolbar:t(()=>[...e[9]||(e[9]=[])]),operator:t(({row:s})=>[o(M,{size:"xs",border:"green","border-style":"dashed",onClick:ue=>$(s)},{default:t(()=>[...e[10]||(e[10]=[l("详情",-1)])]),_:1},8,["onClick"])]),_:1},8,["page","columns","loading","data-source","selected-keys"])]),o(E,{modelValue:q.value,"onUpdate:modelValue":e[4]||(e[4]=s=>q.value=s),title:"详情",area:["700px","450px"]},{default:t(()=>[r("div",ne,[o(u,null,{default:t(()=>[o(a,{md:"4",class:"title"},{default:t(()=>[...e[11]||(e[11]=[l("操作人",-1)])]),_:1}),o(a,{md:"8",class:"content"},{default:t(()=>[l(d(n.value.name+"("+n.value.account+")"),1)]),_:1}),o(a,{md:"4",class:"title"},{default:t(()=>[...e[12]||(e[12]=[l("IP地址",-1)])]),_:1}),o(a,{md:"8",class:"content borderR"},{default:t(()=>[l(d(n.value.ipAddrees),1)]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(a,{md:"4",class:"title"},{default:t(()=>[...e[13]||(e[13]=[l("操作模块",-1)])]),_:1}),o(a,{md:"8",class:"content"},{default:t(()=>[l(d(n.value.optionModule),1)]),_:1}),o(a,{md:"4",class:"title"},{default:t(()=>[...e[14]||(e[14]=[l("操作功能",-1)])]),_:1}),o(a,{md:"8",class:"content borderR"},{default:t(()=>[l(d(n.value.optionFunction),1)]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(a,{md:"4",class:"title"},{default:t(()=>[...e[15]||(e[15]=[l("操作时间",-1)])]),_:1}),o(a,{md:"8",class:"content"},{default:t(()=>[l(d(n.value.joinTime),1)]),_:1}),o(a,{md:"4",class:"title"},{default:t(()=>[...e[16]||(e[16]=[l("请求耗时",-1)])]),_:1}),o(a,{md:"8",class:"content borderR"},{default:t(()=>[l(d(n.value.time)+"s",1)]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(a,{md:"4",class:"title"},{default:t(()=>[...e[17]||(e[17]=[l("请求方式",-1)])]),_:1}),o(a,{md:"8",class:"content"},{default:t(()=>[l(d(n.value.requestMethod),1)]),_:1}),o(a,{md:"4",class:"title"},{default:t(()=>[...e[18]||(e[18]=[l("请求状态",-1)])]),_:1}),o(a,{md:"8",class:"content borderR"},{default:t(()=>[y(r("div",null,[o(v,{color:"#2dc570",variant:"light"},{default:t(()=>[...e[19]||(e[19]=[l("正常",-1)])]),_:1})],512),[[g,n.value.status=="正常"]]),y(r("div",null,[o(v,{color:"#F5319D",variant:"light"},{default:t(()=>[...e[20]||(e[20]=[l("失败",-1)])]),_:1})],512),[[g,n.value.status=="失败"]])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(a,{md:"4",class:"title"},{default:t(()=>[...e[21]||(e[21]=[l("请求地址",-1)])]),_:1}),o(a,{md:"20",class:"content borderR"},{default:t(()=>[l(d(n.value.requestPath),1)]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(a,{md:"4",class:"title"},{default:t(()=>[...e[22]||(e[22]=[l("调用方法",-1)])]),_:1}),o(a,{md:"20",class:"content borderR"},{default:t(()=>[...e[23]||(e[23]=[l("com.eleadmin.common.system.controller.LoginRecordController.page",-1)])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(a,{md:"4",class:"title"},{default:t(()=>[...e[24]||(e[24]=[l("请求参数",-1)])]),_:1}),o(a,{md:"20",class:"content borderR"},{default:t(()=>[...e[25]||(e[25]=[l('{"nickname":"","limit":"10","page":"1","username":""}',-1)])]),_:1})]),_:1}),o(u,null,{default:t(()=>[o(a,{md:"4",class:"title borderB"},{default:t(()=>[...e[26]||(e[26]=[l("返回结果",-1)])]),_:1}),o(a,{md:"20",class:"content borderR borderB"},{default:t(()=>[...e[27]||(e[27]=[l('{"code":0,"message":"操作成功","data":{"list":[{"id":89548,"username":"admin","os":"Windows","device":"Windows 10 or Windows Server 2016","browser":"Chrome","ip":"113.128.81.221","loginType":3,"comments":null,"tenantId":4,"createTime":1689857372000,"updateTime":1689857372000,"userId":40,"nickname":"管理员"},{"id":89547,"username":"admin","os":"Win',-1)])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1})}}});const qe=J(ie,[["__scopeId","data-v-405f4db6"]]);export{qe as default};
